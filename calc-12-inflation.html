<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Inflation Adjuster â€” Finingale</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--navy:#0A1628;--navy2:#0E1F3D;--navy3:#162847;--gold:#C9A84C;--gold2:#E8C96B;--white:#F8F5EE;--grey:#8A95A3;--blue:#60a5fa;--green:#4ade80;--red:#f87171;}
body{font-family:'DM Sans',sans-serif;background:var(--navy);color:var(--white);min-height:100vh;padding:40px 24px;}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(201,168,76,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(201,168,76,0.03) 1px,transparent 1px);background-size:60px 60px;pointer-events:none;z-index:0;}
.wrapper{max-width:1080px;margin:0 auto;position:relative;z-index:1;}
.calc-header{margin-bottom:36px;}
.calc-tag{font-size:0.68rem;font-weight:600;letter-spacing:0.25em;text-transform:uppercase;color:var(--gold);display:flex;align-items:center;gap:10px;margin-bottom:10px;}
.calc-tag::before{content:'';width:22px;height:1px;background:var(--gold);}
.calc-title{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,3.5vw,2.8rem);font-weight:900;line-height:1.1;margin-bottom:8px;}
.calc-title span{color:var(--gold);}
.calc-desc{font-size:0.88rem;color:var(--grey);font-weight:300;max-width:600px;line-height:1.75;}
.calc-body{display:grid;grid-template-columns:370px 1fr;gap:20px;align-items:start;}
@media(max-width:820px){.calc-body{grid-template-columns:1fr;}}
.panel{background:var(--navy2);border:1px solid rgba(201,168,76,0.13);border-radius:8px;padding:28px;}
.panel+.panel{margin-top:20px;}
.panel-title{font-size:0.68rem;font-weight:600;letter-spacing:0.2em;text-transform:uppercase;color:var(--gold);margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid rgba(201,168,76,0.12);}
.input-group{margin-bottom:20px;}
.input-label{font-size:0.7rem;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:var(--grey);margin-bottom:6px;display:block;}
.input-hint{font-size:0.65rem;color:rgba(138,149,163,0.6);margin-bottom:6px;display:block;}
.input-wrap{position:relative;display:flex;align-items:center;}
.input-prefix{position:absolute;left:14px;font-size:0.88rem;font-weight:600;color:var(--gold);pointer-events:none;z-index:1;}
.input-suffix{position:absolute;right:14px;font-size:0.88rem;font-weight:500;color:var(--grey);pointer-events:none;z-index:1;}
.field{width:100%;padding:12px 14px;background:var(--navy3);border:1px solid rgba(201,168,76,0.18);border-radius:5px;color:var(--white);font-size:0.95rem;font-weight:500;font-family:'DM Sans',sans-serif;outline:none;transition:border-color 0.2s,box-shadow 0.2s;-moz-appearance:textfield;}
.field::-webkit-outer-spin-button,.field::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}
.field:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,168,76,0.1);}
.field.has-prefix{padding-left:32px;}
.field.has-suffix{padding-right:40px;}
.field.error{border-color:var(--red);}
.error-msg{font-size:0.65rem;color:var(--red);margin-top:5px;display:none;}
.error-msg.show{display:block;}
.calc-btn{width:100%;margin-top:8px;padding:14px;background:var(--gold);color:var(--navy);font-size:0.85rem;font-weight:700;font-family:'DM Sans',sans-serif;letter-spacing:0.1em;text-transform:uppercase;border:none;border-radius:5px;cursor:pointer;transition:background 0.2s,transform 0.15s;}
.calc-btn:hover{background:var(--gold2);transform:translateY(-1px);}
.empty-state{text-align:center;padding:40px 20px;color:var(--grey);}
.empty-state-icon{font-size:2.5rem;margin-bottom:12px;opacity:0.4;}
.empty-state-text{font-size:0.85rem;line-height:1.6;}
.compare-hero{display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:center;margin-bottom:20px;}
.compare-card{background:var(--navy3);border:1px solid rgba(201,168,76,0.15);border-radius:6px;padding:18px;text-align:center;}
.compare-card.then{border-color:rgba(96,165,250,0.3);}
.compare-card.now{border-color:rgba(201,168,76,0.4);background:rgba(201,168,76,0.07);}
.compare-year{font-size:0.62rem;font-weight:600;letter-spacing:0.15em;text-transform:uppercase;color:var(--grey);margin-bottom:6px;}
.compare-value{font-family:'Playfair Display',serif;font-size:1.6rem;font-weight:900;}
.compare-card.then .compare-value{color:var(--blue);}
.compare-card.now .compare-value{color:var(--gold2);}
.compare-arrow{font-size:1.5rem;color:var(--gold);text-align:center;}
.results-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px;}
.result-card{background:var(--navy3);border:1px solid rgba(201,168,76,0.1);border-radius:5px;padding:14px;}
.result-label{font-size:0.62rem;font-weight:600;letter-spacing:0.15em;text-transform:uppercase;color:var(--grey);margin-bottom:5px;}
.result-value{font-family:'Playfair Display',serif;font-size:1.2rem;font-weight:700;color:var(--white);}
.result-value.bad{color:var(--red);}
.result-sub{font-size:0.65rem;color:var(--grey);margin-top:2px;}
/* Purchasing power timeline */
.timeline{margin-bottom:4px;}
.tl-row{display:flex;align-items:center;gap:10px;margin-bottom:8px;}
.tl-year{font-size:0.68rem;color:var(--gold);font-weight:600;width:40px;flex-shrink:0;}
.tl-bar-wrap{flex:1;height:8px;background:rgba(255,255,255,0.06);border-radius:4px;overflow:hidden;}
.tl-bar{height:100%;border-radius:4px;background:linear-gradient(90deg,var(--gold),var(--gold2));transition:width 0.5s cubic-bezier(.4,0,.2,1);}
.tl-val{font-size:0.7rem;color:var(--white);font-weight:600;width:80px;text-align:right;flex-shrink:0;}
.chart-container{position:relative;height:260px;}
.calc-footer{margin-top:24px;padding-top:14px;border-top:1px solid rgba(201,168,76,0.1);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;}
.brand{font-family:'Playfair Display',serif;font-size:1rem;font-weight:900;}
.brand span{color:var(--gold);}
.disclaimer{font-size:0.67rem;color:var(--grey);}
</style>
</head>
<body>
<div class="wrapper">
  <div class="calc-header">
    <div class="calc-tag">Calculator 12 Â· Finingale</div>
    <h1 class="calc-title">Inflation <span>Adjuster</span></h1>
    <p class="calc-desc">Understand the real value of money across time. See how inflation erodes purchasing power, compare nominal vs real returns, and find what a past or future sum is worth today.</p>
  </div>
  <div class="calc-body">
    <div>
      <div class="panel">
        <div class="panel-title">Your Details</div>
        <div class="input-group">
          <label class="input-label">Amount</label>
          <span class="input-hint">The monetary value you want to adjust</span>
          <div class="input-wrap"><span class="input-prefix">$</span><input type="number" id="amount" class="field has-prefix" placeholder="e.g. 100000" min="0" step="any"/></div>
          <div class="error-msg" id="err-amount">Please enter a valid amount</div>
        </div>
        <div class="input-group">
          <label class="input-label">Starting Year</label>
          <span class="input-hint">The year of the original amount</span>
          <div class="input-wrap"><input type="number" id="start-year" class="field" placeholder="e.g. 2000" min="1900" max="2100" step="1"/></div>
          <div class="error-msg" id="err-start-year">Please enter a valid year</div>
        </div>
        <div class="input-group">
          <label class="input-label">Target Year</label>
          <span class="input-hint">The year you want to convert to</span>
          <div class="input-wrap"><input type="number" id="end-year" class="field" placeholder="e.g. 2024" min="1900" max="2100" step="1"/></div>
          <div class="error-msg" id="err-end-year">Must be different from starting year</div>
        </div>
        <div class="input-group">
          <label class="input-label">Annual Inflation Rate</label>
          <span class="input-hint">Average yearly inflation rate for this period</span>
          <div class="input-wrap"><input type="number" id="inflation" class="field has-suffix" placeholder="e.g. 3.5" min="0" max="100" step="any"/><span class="input-suffix">%</span></div>
          <div class="error-msg" id="err-inflation">Please enter a valid inflation rate</div>
        </div>
        <div class="input-group" style="margin-bottom:16px;">
          <label class="input-label">Nominal Investment Return (Optional)</label>
          <span class="input-hint">Your investment return â€” to calculate real return</span>
          <div class="input-wrap"><input type="number" id="nom-return" class="field has-suffix" placeholder="e.g. 8 (or leave blank)" min="0" step="any"/><span class="input-suffix">%</span></div>
        </div>
        <button class="calc-btn" onclick="calculate()">Calculate â†’</button>
      </div>
    </div>
    <div>
      <div class="panel">
        <div class="panel-title">Results</div>
        <div class="empty-state" id="empty-state">
          <div class="empty-state-icon">ðŸ’¸</div>
          <div class="empty-state-text">Enter an amount and time period<br/>and click <strong style="color:var(--gold)">Calculate</strong> to see inflation's impact.</div>
        </div>
        <div id="results-content" style="display:none;">
          <div class="compare-hero">
            <div class="compare-card then">
              <div class="compare-year" id="then-year">â€”</div>
              <div class="compare-value" id="then-val">â€”</div>
              <div style="font-size:0.65rem;color:var(--grey);margin-top:4px;">Nominal Value</div>
            </div>
            <div class="compare-arrow">â†’</div>
            <div class="compare-card now">
              <div class="compare-year" id="now-year">â€”</div>
              <div class="compare-value" id="now-val">â€”</div>
              <div style="font-size:0.65rem;color:var(--grey);margin-top:4px;">Adjusted Value</div>
            </div>
          </div>
          <div class="results-grid">
            <div class="result-card">
              <div class="result-label">Total Inflation</div>
              <div class="result-value bad" id="res-total-inf">â€”</div>
              <div class="result-sub" id="res-period">â€”</div>
            </div>
            <div class="result-card">
              <div class="result-label">Purchasing Power Lost</div>
              <div class="result-value bad" id="res-pp-lost">â€”</div>
              <div class="result-sub">Erosion of real value</div>
            </div>
            <div class="result-card">
              <div class="result-label">Real Return</div>
              <div class="result-value" id="res-real-return">â€”</div>
              <div class="result-sub">After adjusting for inflation</div>
            </div>
            <div class="result-card">
              <div class="result-label">Rule of 72</div>
              <div class="result-value" id="res-r72">â€”</div>
              <div class="result-sub">Years for prices to double</div>
            </div>
          </div>
          <!-- Purchasing power timeline -->
          <div style="font-size:0.65rem;font-weight:600;letter-spacing:0.15em;text-transform:uppercase;color:var(--gold);margin-bottom:10px;">Purchasing Power Timeline</div>
          <div class="timeline" id="timeline"></div>
        </div>
      </div>
      <div class="panel" id="chart-panel" style="display:none;">
        <div class="panel-title">Nominal vs Real Value Over Time</div>
        <div class="chart-container"><canvas id="inflChart"></canvas></div>
      </div>
    </div>
  </div>
  <div class="calc-footer">
    <div class="brand">Fining<span>ale</span></div>
    <div class="disclaimer">For educational purposes only. Uses constant inflation rate assumption.</div>
  </div>
</div>
<script>
const fmt = n => '$' + Math.round(n).toLocaleString('en-US');
const fmtPct = n => n.toFixed(2) + '%';
let chartInstance = null;

function showError(id,show){
  const el=document.getElementById('err-'+id),field=document.getElementById(id);
  if(!el)return;
  if(show){el.classList.add('show');if(field)field.classList.add('error');}
  else{el.classList.remove('show');if(field)field.classList.remove('error');}
}

function calculate(){
  const amount=parseFloat(document.getElementById('amount').value);
  const startYear=parseInt(document.getElementById('start-year').value);
  const endYear=parseInt(document.getElementById('end-year').value);
  const inflation=parseFloat(document.getElementById('inflation').value)/100;
  const nomReturn=(parseFloat(document.getElementById('nom-return').value)||0)/100;
  let valid=true;
  if(!amount||amount<=0){showError('amount',true);valid=false;}else showError('amount',false);
  if(!startYear){showError('start-year',true);valid=false;}else showError('start-year',false);
  if(!endYear||endYear===startYear){showError('end-year',true);valid=false;}else showError('end-year',false);
  if(isNaN(inflation)||inflation<0){showError('inflation',true);valid=false;}else showError('inflation',false);
  if(!valid)return;

  const years=Math.abs(endYear-startYear);
  const forward=endYear>startYear;
  const adjustedAmount=forward
    ? amount*Math.pow(1+inflation,years)
    : amount/Math.pow(1+inflation,years);
  const totalInflation=(Math.pow(1+inflation,years)-1)*100;
  const ppLost=forward ? ((adjustedAmount-amount)/adjustedAmount*100) : ((amount-adjustedAmount)/amount*100);
  const realReturn=nomReturn>0 ? ((1+nomReturn)/(1+inflation)-1)*100 : null;
  const rule72=inflation>0 ? 72/((inflation)*100) : null;

  document.getElementById('empty-state').style.display='none';
  document.getElementById('results-content').style.display='block';
  document.getElementById('chart-panel').style.display='block';

  document.getElementById('then-year').textContent=startYear;
  document.getElementById('then-val').textContent=fmt(amount);
  document.getElementById('now-year').textContent=endYear;
  document.getElementById('now-val').textContent=fmt(adjustedAmount);
  document.getElementById('res-total-inf').textContent='+'+fmtPct(totalInflation);
  document.getElementById('res-period').textContent='Over '+years+' year'+(years===1?'':'s');
  document.getElementById('res-pp-lost').textContent=fmtPct(ppLost);

  const rrEl=document.getElementById('res-real-return');
  if(realReturn!==null){
    rrEl.textContent=(realReturn>=0?'+':'')+fmtPct(realReturn);
    rrEl.style.color=realReturn>=0?'#4ade80':'#f87171';
  } else { rrEl.textContent='Enter return above'; rrEl.style.color='var(--grey)'; }

  document.getElementById('res-r72').textContent=rule72 ? rule72.toFixed(1)+' years' : 'â€”';

  // Timeline â€” show every ~years/5 milestone
  const tlDiv=document.getElementById('timeline');
  tlDiv.innerHTML='';
  const step=Math.max(1,Math.round(years/6));
  const minYear=Math.min(startYear,endYear);
  const maxYear=Math.max(startYear,endYear);
  const baseAmount=forward?amount:adjustedAmount;
  let maxVal=0;
  const points=[];
  for(let y=minYear;y<=maxYear;y+=step){
    const v=baseAmount*Math.pow(1+inflation,y-minYear);
    points.push({y,v}); if(v>maxVal)maxVal=v;
  }
  if(points[points.length-1].y!==maxYear) points.push({y:maxYear,v:baseAmount*Math.pow(1+inflation,years)});
  points.forEach(p=>{
    const pct=(p.v/maxVal*100).toFixed(1);
    tlDiv.innerHTML+=`<div class="tl-row"><div class="tl-year">${p.y}</div><div class="tl-bar-wrap"><div class="tl-bar" style="width:${pct}%"></div></div><div class="tl-val">${fmt(p.v)}</div></div>`;
  });

  // Chart
  const allYears=Math.max(years,1);
  const chartLabels=[],nominalData=[],realData=[];
  for(let y=0;y<=allYears;y++){
    chartLabels.push(minYear+y);
    nominalData.push(Math.round(baseAmount*Math.pow(1+inflation,y)));
    realData.push(Math.round(baseAmount));
  }
  const ctx=document.getElementById('inflChart').getContext('2d');
  const gradGold=ctx.createLinearGradient(0,0,0,260);
  gradGold.addColorStop(0,'rgba(232,201,107,0.45)');
  gradGold.addColorStop(1,'rgba(232,201,107,0.02)');
  const gradBlue=ctx.createLinearGradient(0,0,0,260);
  gradBlue.addColorStop(0,'rgba(96,165,250,0.3)');
  gradBlue.addColorStop(1,'rgba(96,165,250,0.02)');

  if(chartInstance)chartInstance.destroy();
  chartInstance=new Chart(ctx,{
    type:'line',
    data:{labels:chartLabels,datasets:[
      {label:'Nominal Value',data:nominalData,borderColor:'#E8C96B',backgroundColor:gradGold,borderWidth:2.5,fill:true,tension:0.4,pointRadius:0,pointHoverRadius:5},
      {label:'Real (Base Year) Value',data:realData,borderColor:'#60a5fa',backgroundColor:gradBlue,borderWidth:2,borderDash:[6,3],fill:true,tension:0,pointRadius:0,pointHoverRadius:5}
    ]},
    options:{
      responsive:true,maintainAspectRatio:false,
      animation:{duration:700,easing:'easeInOutQuart'},
      interaction:{mode:'index',intersect:false},
      plugins:{
        legend:{labels:{color:'#8A95A3',font:{family:'DM Sans',size:11},boxWidth:12}},
        tooltip:{backgroundColor:'#0E1F3D',borderColor:'rgba(201,168,76,0.3)',borderWidth:1,titleColor:'#C9A84C',bodyColor:'#F8F5EE',padding:12,callbacks:{label:c=>' '+c.dataset.label+': '+fmt(c.raw)}}
      },
      scales:{
        x:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:'#8A95A3',font:{family:'DM Sans',size:10},maxTicksLimit:10}},
        y:{grid:{color:'rgba(255,255,255,0.04)'},ticks:{color:'#8A95A3',font:{family:'DM Sans',size:10},callback:v=>'$'+(v>=1e6?(v/1e6).toFixed(1)+'M':v>=1000?(v/1000).toFixed(0)+'K':v)}}
      }
    }
  });
}
document.querySelectorAll('.field').forEach(f=>f.addEventListener('keydown',e=>{if(e.key==='Enter')calculate();}));
</script>
</body>
</html>
